<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Repositório de Políticas Internas do RH</title>
  <link rel="stylesheet" href="estilo.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="script.js" defer></script>
</head>
<body>
  <header>
    <h1>Repositório de Políticas Internas do RH</h1>
  </header>
  <main>
    <nav class="sidebar">
      <h2>Políticas</h2>
      <h3>Onboarding</h3>
      <ul>
        <li><a href="#" onclick="loadPolicy('onboarding/boas_vindas.md','Boas-vindas')">Boas-vindas</a></li>
        <li><a href="#" onclick="loadPolicy('onboarding/checklist-onboarding.md','Checklist')">Checklist de integração</a></li>
      </ul>
      <h3>Offboarding</h3>
      <ul>
        <li><a href="#" onclick="loadPolicy('offboarding/procedimentos-desligamento.md','Desligamento')">Procedimentos de desligamento</a></li>
      </ul>
      <h3>Políticas Gerais</h3>
      <ul>
        <li><a href="politicas/codigo_conduta.html" target="policy-frame">Código de Conduta</a></li>
        <li><a href="politicas/diversidade.html" target="policy-frame">Diversidade e inclusão</a></li>
        <li><a href="#" onclick="loadPolicy('politicas/politica-diretrizes.md','Trabalho Remoto')">Trabalho remoto</a></li>
        <li><a href="#" onclick="loadPolicy('politicas/politica-avd.md','Avaliação')">Avaliação de desempenho</a></li>
        <li><a href="#" onclick="loadPolicy('politicas/politica-recrutamento.md','Recrutamento')">Recrutamento e seleção</a></li>
      </ul>
    </nav>
    <section id="policy-content" class="policy-content">
      <h2>Visualização</h2>
      <div id="markdown-viewer">Selecione uma política para visualizar aqui.</div>
      <iframe id="policy-frame" name="policy-frame" style="width:100%;height:80vh;border:none;display:none;"></iframe>
      <div id="checklist-viewer" style="display:none;"></div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Repositório de Políticas Internas do RH - LTHS Tecnologia </p>
  </footer>
  <script>
    const iframe = document.getElementById("policy-frame");
    const markdownViewer = document.getElementById("markdown-viewer");
    window.addEventListener("message", function(event) {
      if (event.data === "fecharConteudo") {
        iframe.style.display = "none";
        markdownViewer.style.display = "block";
        markdownViewer.innerHTML = "Selecione uma política para visualizar aqui.";
      }
    });
    document.querySelector("a[target='policy-frame']").addEventListener("click", function() {
      iframe.style.display = "block";
      markdownViewer.style.display = "none";
    });
  </script>
</body>
</html>
